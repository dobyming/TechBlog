<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.8.1"/><meta data-react-helmet="true" name="description" content="정적 웹사이트의 콘텐츠 데이터를 관리하는데 있어 GraphQL로 진행할 수 있습니다. "/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Gatsby - GraphQL로 query 요청하기"/><meta data-react-helmet="true" property="og:description" content="정적 웹사이트의 콘텐츠 데이터를 관리하는데 있어 GraphQL로 진행할 수 있습니다. "/><meta data-react-helmet="true" property="og:image" content="/static/4f8c7eee10d53d9b36c06e7d801ef256/graphql.png"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="Gatsby - GraphQL로 query 요청하기"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Gatsby - GraphQL로 query 요청하기"/><meta data-react-helmet="true" name="twitter:description" content="정적 웹사이트의 콘텐츠 데이터를 관리하는데 있어 GraphQL로 진행할 수 있습니다. "/><meta data-react-helmet="true" name="twitter:image" content="/static/4f8c7eee10d53d9b36c06e7d801ef256/graphql.png"/><meta data-react-helmet="true" name="twitter:site" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:creator" content="@사용자이름"/><meta data-react-helmet="true" name="google-site-verification" content="xE3auPHV6cacveeZD8Ln09qMfHXMDLn1HolWdbzhfk0"/><meta data-react-helmet="true" name="naver-site-verification" content="d4b0bb2e16cfc98a2826d2ffe989006d74cb2cbf"/><style data-href="/styles.0dfc9301f57595cc701f.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}body{--color-background:#f6f6f6}.dark{--color-background:#393e46;--color-text:#f6f6f6}body{background-color:var(--color-background);transition:.2s}a,footer,h1,h2,h3,h4,h5,hr,li,p,span,td,tr{color:var(--color-text)}</style><link rel="canonical" href="https://dobyming.github.io/gatsby-request/" data-baseprotocol="https:" data-basehost="dobyming.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><title data-react-helmet="true">Gatsby - GraphQL로 query 요청하기</title><link rel="icon" href="/favicon-32x32.png?v=a04f0cffc2ba7434f893e2b100af3e70" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global 16vf086">@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'IBM Plex Sans KR',sans-serif;}html,body,#___gatsby{height:100%;}a,a:hover{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 1bjn9yo">.css-1bjn9yo{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}@media (max-width: 768px){.css-1bjn9yo{height:300px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-1bjn9yo e1opi4mu0"><div style="max-width:1200px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;515&#x27;%20width=&#x27;1200&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVR42p1S20rDQBDNn4u+ih/gN4igFX3sgygiRoiCT6JN1Zr0Ik2JezOze2Qn2xiaUtGBwwyzM2cOnI2cc/DhM8O6pl72EepfgoeiZmndxMqBtbDNcedz1FZDucB86waUS/w1XCCJHNVk8myIxW4CcTzAYi+BPB3Cv5lkBltoWFHBaeLsD3tUryXM/QcoEy2FtibUFxnkScq16KXQVzloqviQJ1fn7yj3H6D6b5C9FOJoANUfwcQTFvFDSLYmOXxGsR3zYrETQxw8cd/cTlC9lKxIX2bQ12NUo0/YucbXYwFzN2PQVLVMCSppLJnML/8jaoVtRzsOL120mx0OCKZsHur8yc6/XSH8BkiBuu6OnpgSAAAAAElFTkSuQmCC" alt=""/><picture><source type="image/webp" data-srcset="/static/4f8c7eee10d53d9b36c06e7d801ef256/1579f/graphql.webp 300w,/static/4f8c7eee10d53d9b36c06e7d801ef256/b012d/graphql.webp 600w,/static/4f8c7eee10d53d9b36c06e7d801ef256/a3895/graphql.webp 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1200px) 1200px, 100vw" decoding="async" loading="lazy" data-src="/static/4f8c7eee10d53d9b36c06e7d801ef256/3eabe/graphql.png" data-srcset="/static/4f8c7eee10d53d9b36c06e7d801ef256/ec663/graphql.png 300w,/static/4f8c7eee10d53d9b36c06e7d801ef256/619be/graphql.png 600w,/static/4f8c7eee10d53d9b36c06e7d801ef256/3eabe/graphql.png 1200w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/4f8c7eee10d53d9b36c06e7d801ef256/1579f/graphql.webp 300w,/static/4f8c7eee10d53d9b36c06e7d801ef256/b012d/graphql.webp 600w,/static/4f8c7eee10d53d9b36c06e7d801ef256/a3895/graphql.webp 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1200px) 1200px, 100vw" decoding="async" loading="lazy" src="/static/4f8c7eee10d53d9b36c06e7d801ef256/3eabe/graphql.png" srcSet="/static/4f8c7eee10d53d9b36c06e7d801ef256/ec663/graphql.png 300w,/static/4f8c7eee10d53d9b36c06e7d801ef256/619be/graphql.png 600w,/static/4f8c7eee10d53d9b36c06e7d801ef256/3eabe/graphql.png 1200w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css m1156n">.css-m1156n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-m1156n{width:100%;padding:40px 20px;}}</style><div class="css-m1156n e1st1jau3"><style data-emotion="css gywgo7">.css-gywgo7{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}@media (max-width: 768px){.css-gywgo7{width:30px;height:30px;font-size:18px;}}</style><a class="css-gywgo7 e1st1jau2" href="/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg></a><style data-emotion="css gn4qtp">.css-gn4qtp{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}@media (max-width: 768px){.css-gn4qtp{font-size:30px;}}</style><div class="css-gn4qtp e1st1jau1">Gatsby - GraphQL로 query 요청하기</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau0"><div>Web / Gatsby / GraphQL</div><div>2023.04.17.</div></div></div></div><style data-emotion="css 16c4vd1">.css-16c4vd1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-16c4vd1 p{padding:3px 0;}.css-16c4vd1 h1,.css-16c4vd1 h2,.css-16c4vd1 h3{font-weight:800;margin-bottom:20px;}.css-16c4vd1 *+h1,.css-16c4vd1 *+h2,.css-16c4vd1 *+h3,.css-16c4vd1 *+h4{margin-top:50px;}.css-16c4vd1 hr+h1,.css-16c4vd1 hr+h2,.css-16c4vd1 hr+h3{margin-top:0;}.css-16c4vd1 h1{font-size:30px;}.css-16c4vd1 h2{font-size:25px;}.css-16c4vd1 h3{font-size:20px;}.css-16c4vd1 blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-16c4vd1 ol,.css-16c4vd1 ul{margin-left:20px;padding:30px 0;}.css-16c4vd1 img{box-shadow:0 0 5px rgba(0, 0, 0, 0.1);}.css-16c4vd1 hr{border:1px solid #000000;margin:100px 0;}.css-16c4vd1 a{color:#00a170;-webkit-text-decoration:none;text-decoration:none;}.css-16c4vd1 a:hover{color:#f6546a;-webkit-text-decoration:underline;text-decoration:underline;}.css-16c4vd1 pre[class*='language-']{margin:30px 0;padding:15px;font-size:13px;}.css-16c4vd1 pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-16c4vd1 code[class*='language-'],.css-16c4vd1 pre[class*='language-']{tab-size:2;}@media (max-width: 768px){.css-16c4vd1{width:100%;padding:80px 20px;line-height:1.6;font-size:14px;}.css-16c4vd1 h1{font-size:23px;}.css-16c4vd1 h2{font-size:20px;}.css-16c4vd1 h3{font-size:17px;}.css-16c4vd1 img{width:100%;}.css-16c4vd1 hr{margin:50px 0;}}</style><div class="css-16c4vd1 e1ijh0y10"><h2>GraphQL이란?</h2>
<p>GraphQL은 페이스북에서 개발한 <strong>쿼리 언어</strong>입니다.
각각의 엔드포인트에서 고정된 데이터를 받을 수 있는 Rest API와는 다르게 GraphQL은 <span style="color:red"><strong>단일 엔드포인트</strong></span>에서 원하는 데이터만을 받을 수 있다는 장점을 가지고 있습니다.</p>
<p>정적 웹사이트의 콘텐츠 데이터를 관리하는데 있어 GraphQL로 진행할 수 있습니다.</p>
<h2>Gatsby에서 GraphQL을 사용하는 방법</h2>
<p>그럼 Gatsby에서 GraphQL로 query로 요청해서 웹사이트로 값을 불러오는 방법에 대해서 알아보겠습니다.</p>
<p>우선 <code class="language-text">pages</code> 폴더 내에 <code class="language-text">info.tsx</code>를 선언합니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> FunctionComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> graphql <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby'</span>
<span class="token keyword">import</span> Text <span class="token keyword">from</span> <span class="token string">'components/Text'</span>

<span class="token keyword">type</span> <span class="token class-name">InfoPageProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> InfoPage<span class="token operator">:</span> FunctionComponent<span class="token operator">&lt;</span>InfoPageProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hello<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> InfoPage</code></pre></div>
<p>일반적인 컴포넌트에서는 변수로서 정의가 불가능하고, <strong>StaticQuery</strong>라는 기능을 통해 정의가 가능합니다. pages 폴더 내부에 있는 컴포넌트에서는 다음과 같이 Query를 정의하고 요청할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> FunctionComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> graphql <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby'</span>
<span class="token keyword">import</span> Text <span class="token keyword">from</span> <span class="token string">'components/Text'</span>

<span class="token keyword">type</span> <span class="token class-name">InfoPageProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> InfoPage<span class="token operator">:</span> FunctionComponent<span class="token operator">&lt;</span>InfoPageProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hello<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> InfoPage

<span class="token comment">// query 요청 부 </span>
<span class="token keyword">export</span> <span class="token keyword">const</span> metadataQuery <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  {
    site {
      siteMetadata {
        title
        description
        author
      }
    }
  }
</span><span class="token template-punctuation string">`</span></span></code></pre></div>
<p><code class="language-text">metadataQuery</code> 변수에 요청한 Query를 요청 시, 요청에 대한 응답 값은 <code class="language-text">InfoPage</code> 컴포넌트의 Props로 전달해줍니다. 마지막으로 <code class="language-text">InfoPage</code> 컴포넌트의 매개변수로 값을 불러오면서 Gatsby에서 GraphQL을 통한 Query 요청 작업이 마무리 됩니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> FunctionComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> graphql <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby'</span>
<span class="token keyword">import</span> Text <span class="token keyword">from</span> <span class="token string">'components/Text'</span>

<span class="token comment">// 요청한 Query의 데이터 구조에 따라 type을 지정 </span>
<span class="token keyword">type</span> <span class="token class-name">InfoPageProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    site<span class="token operator">:</span> <span class="token punctuation">{</span>
      siteMetadata<span class="token operator">:</span> <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token builtin">string</span>
        description<span class="token operator">:</span> <span class="token builtin">string</span>
        author<span class="token operator">:</span> <span class="token builtin">string</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 매개변수로 요청한 Query를 Props로 전달 </span>
<span class="token keyword">const</span> InfoPage<span class="token operator">:</span> FunctionComponent<span class="token operator">&lt;</span>InfoPageProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    site<span class="token operator">:</span> <span class="token punctuation">{</span>
      siteMetadata<span class="token operator">:</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> description<span class="token punctuation">,</span> author <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>author<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> InfoPage

<span class="token keyword">export</span> <span class="token keyword">const</span> metadataQuery <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  {
    site {
      siteMetadata {
        title
        description
        author
      }
    }
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<p>이와 같이 Gatsby에서 GraphQL을 통해 데이터를 요청하고 응답받는 과정을 수행할 수 있습니다.</p></div><style data-emotion="css zy9ff4">.css-zy9ff4{height:56px;margin-bottom:30px;}.css-zy9ff4 ul{text-align:center;}.css-zy9ff4 li{display:inline-block;*display:block;*zoom:1;height:56px;line-height:56px;white-space:nowrap;margin:0 10px;}.css-zy9ff4 svg{margin-top:-3px;width:21px;height:21px;vertical-align:middle;}.css-zy9ff4 a{color:#333;-webkit-text-decoration:none;text-decoration:none;}.css-zy9ff4 a:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-zy9ff4 span{cursor:not-allowed;color:#888;}</style><nav class="css-zy9ff4 e1t5r2y70"><ul><li><a href="/what-is-gatsby/"><svg width="30px" height="30px" viewBox="0 0 24 24" fill="current"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z" fill="#000000"></path></svg> 다음글</a></li><li><a href="/gatsby-page-route/">이전글 <svg width="30px" height="30px" viewBox="0 0 24 24" fill="current"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L9.70711 19.7071C9.31658 20.0976 8.68342 20.0976 8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929L14.5858 12L8.29289 5.70711C7.90237 5.31658 7.90237 4.68342 8.29289 4.29289Z" fill="#000000"></path></svg></a></li></ul></nav><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1gqsjds0"></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">© <!-- -->2023<!-- --> Damin-Kim, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/gatsby-request/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-ba379c32c42dcca19b1a.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-2073c6e4755e6d0bfb15.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-ebc924f217babcc32198.js\"],\"component---src-pages-info-tsx\":[\"/component---src-pages-info-tsx-1f7231da34a5e78aa38a.js\"],\"component---src-templates-post-template-tsx\":[\"/component---src-templates-post-template-tsx-e2f133ea4a6eb2f6d174.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="e691ef00f09591dca28c";</script><script src="/webpack-runtime-136596f8451363cf2a64.js" async></script><script src="/framework-a4e155cd0476dc1ca208.js" async></script><script src="/app-ba379c32c42dcca19b1a.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>