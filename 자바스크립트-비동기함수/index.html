<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.8.1"/><meta data-react-helmet="true" name="description" content="자바스크립트의 비동기 함수 - Promise, async-await"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Promise 객체, async-await 함수를 활용한 비동기 처리"/><meta data-react-helmet="true" property="og:description" content="자바스크립트의 비동기 함수 - Promise, async-await"/><meta data-react-helmet="true" property="og:image" content="/static/72cbf5a18fefc590eeb1cc3dec648985/jsicon.png"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="Promise 객체, async-await 함수를 활용한 비동기 처리"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Promise 객체, async-await 함수를 활용한 비동기 처리"/><meta data-react-helmet="true" name="twitter:description" content="자바스크립트의 비동기 함수 - Promise, async-await"/><meta data-react-helmet="true" name="twitter:image" content="/static/72cbf5a18fefc590eeb1cc3dec648985/jsicon.png"/><meta data-react-helmet="true" name="twitter:site" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:creator" content="@사용자이름"/><meta data-react-helmet="true" name="google-site-verification" content="xE3auPHV6cacveeZD8Ln09qMfHXMDLn1HolWdbzhfk0"/><meta data-react-helmet="true" name="naver-site-verification" content="d4b0bb2e16cfc98a2826d2ffe989006d74cb2cbf"/><style data-href="/styles.0dfc9301f57595cc701f.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}body{--color-background:#f6f6f6}.dark{--color-background:#393e46;--color-text:#f6f6f6}body{background-color:var(--color-background);transition:.2s}a,footer,h1,h2,h3,h4,h5,hr,li,p,span,td,tr{color:var(--color-text)}</style><link rel="canonical" href="https://dobyming.github.io/자바스크립트-비동기함수/" data-baseprotocol="https:" data-basehost="dobyming.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><title data-react-helmet="true">Promise 객체, async-await 함수를 활용한 비동기 처리</title><link rel="icon" href="/favicon-32x32.png?v=a04f0cffc2ba7434f893e2b100af3e70" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a04f0cffc2ba7434f893e2b100af3e70"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global 16vf086">@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'IBM Plex Sans KR',sans-serif;}html,body,#___gatsby{height:100%;}a,a:hover{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 1bjn9yo">.css-1bjn9yo{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}@media (max-width: 768px){.css-1bjn9yo{height:300px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-1bjn9yo e1opi4mu0"><div style="max-width:480px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;360&#x27;%20width=&#x27;480&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYklEQVR42mP4fl+ObMQwjDV/u4edTVjzz4fy/57J/3wo9+2u3J/Hcv9fyv96BDWCgZBOuTdXZc/vlnx3Tfb/C/n7p6R3rRB/flHmz1P5b/fwav5yV+7/K/kti8SYmRnP75Y8vEFCSICJmZlBXJT53C7Jf8/kCWpW2LRQjIGB4eJeyaRIHhkp5tvHpCe3CN0/Jf37sRyxmi/tleytF2RgYMhN5n14Vub/a/lvd/Fq/nYPpHnDfJDmIxsl/r+Sr8jhZ2NjZGVhXDZN5P8L3M7++VAOFEhvFXauFWdgYDi6SeLlJZn39+X+PJc3M2DT02L79RCbzd8gmh/IOVhxuDlw+rlzcnIw3jshbWfOoa7M0lMnKCnO7GbP+e8pDpu/3ZP7/Vh++TQRY102HXW2+RNE/r9SOLhewtOJU0GWJcCD69ohqb9P8Yb2/1fyvx6Dkse/F/Lf78n9fSH/74UCmKHwGxzPAGOiDkdk0wLIAAAAAElFTkSuQmCC" alt=""/><picture><source type="image/webp" data-srcset="/static/72cbf5a18fefc590eeb1cc3dec648985/f9f5f/jsicon.webp 120w,/static/72cbf5a18fefc590eeb1cc3dec648985/4b558/jsicon.webp 240w,/static/72cbf5a18fefc590eeb1cc3dec648985/b8574/jsicon.webp 480w" sizes="(min-width: 480px) 480px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 480px) 480px, 100vw" decoding="async" loading="lazy" data-src="/static/72cbf5a18fefc590eeb1cc3dec648985/b3556/jsicon.png" data-srcset="/static/72cbf5a18fefc590eeb1cc3dec648985/2bbe4/jsicon.png 120w,/static/72cbf5a18fefc590eeb1cc3dec648985/dddb8/jsicon.png 240w,/static/72cbf5a18fefc590eeb1cc3dec648985/b3556/jsicon.png 480w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/72cbf5a18fefc590eeb1cc3dec648985/f9f5f/jsicon.webp 120w,/static/72cbf5a18fefc590eeb1cc3dec648985/4b558/jsicon.webp 240w,/static/72cbf5a18fefc590eeb1cc3dec648985/b8574/jsicon.webp 480w" sizes="(min-width: 480px) 480px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 480px) 480px, 100vw" decoding="async" loading="lazy" src="/static/72cbf5a18fefc590eeb1cc3dec648985/b3556/jsicon.png" srcSet="/static/72cbf5a18fefc590eeb1cc3dec648985/2bbe4/jsicon.png 120w,/static/72cbf5a18fefc590eeb1cc3dec648985/dddb8/jsicon.png 240w,/static/72cbf5a18fefc590eeb1cc3dec648985/b3556/jsicon.png 480w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css m1156n">.css-m1156n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-m1156n{width:100%;padding:40px 20px;}}</style><div class="css-m1156n e1st1jau3"><style data-emotion="css gywgo7">.css-gywgo7{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}@media (max-width: 768px){.css-gywgo7{width:30px;height:30px;font-size:18px;}}</style><a class="css-gywgo7 e1st1jau2" href="/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg></a><style data-emotion="css gn4qtp">.css-gn4qtp{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}@media (max-width: 768px){.css-gn4qtp{font-size:30px;}}</style><div class="css-gn4qtp e1st1jau1">Promise 객체, async-await 함수를 활용한 비동기 처리</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau0"><div>JavaScript</div><div>2023.01.26.</div></div></div></div><style data-emotion="css 1jeqiyt">.css-1jeqiyt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-1jeqiyt p{padding:3px 0;}.css-1jeqiyt h1,.css-1jeqiyt h2,.css-1jeqiyt h3{font-weight:800;margin-bottom:20px;}.css-1jeqiyt *+h1,.css-1jeqiyt *+h2,.css-1jeqiyt *+h3,.css-1jeqiyt *+h4{margin-top:50px;}.css-1jeqiyt hr+h1,.css-1jeqiyt hr+h2,.css-1jeqiyt hr+h3{margin-top:0;}.css-1jeqiyt h1{font-size:30px;}.css-1jeqiyt h2{font-size:25px;}.css-1jeqiyt h3{font-size:20px;}.css-1jeqiyt blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-1jeqiyt ol,.css-1jeqiyt ul{margin-left:20px;padding:30px 0;}.css-1jeqiyt img{max-width:100%;box-shadow:0 0 5px rgba(0, 0, 0, 0.1);}.css-1jeqiyt hr{border:1px solid #000000;margin:100px 0;}.css-1jeqiyt a{color:#00a170;-webkit-text-decoration:none;text-decoration:none;}.css-1jeqiyt a:hover{color:#f6546a;-webkit-text-decoration:underline;text-decoration:underline;}.css-1jeqiyt pre[class*='language-']{margin:30px 0;padding:15px;font-size:15px;}.css-1jeqiyt pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-1jeqiyt code[class*='language-'],.css-1jeqiyt pre[class*='language-']{tab-size:2;}@media (max-width: 768px){.css-1jeqiyt{width:100%;padding:80px 20px;line-height:1.6;font-size:14px;}.css-1jeqiyt h1{font-size:23px;}.css-1jeqiyt h2{font-size:20px;}.css-1jeqiyt h3{font-size:17px;}.css-1jeqiyt img{width:100%;}.css-1jeqiyt hr{margin:50px 0;}}</style><div class="css-1jeqiyt e1ijh0y10"><h2>Promise 객체</h2>
<p>동기: 콜백 지옥에서 탈출하기</p>
<p><strong>비동기 작업이 가질 수 있는 3가지 상태</strong></p>
<p><img src="https://joshua1988.github.io/images/posts/web/javascript/promise.svg" alt="https://joshua1988.github.io/images/posts/web/javascript/promise.svg"></p>
<ul>
<li>Pending: 대기상태 (성공 or 실패)</li>
<li>Fulfilled: 성공 (Pending 상태에서 resolve 됐다)</li>
<li>Rejected: 실패 (Pending 상태에서 rejecet 됐다)</li>
</ul>
<h4>Promise 객체를 활용한 비동기 구문</h4>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// 기존 비동기 처리 </span>
<span class="token keyword">function</span> <span class="token function">isPositive</span><span class="token punctuation">(</span><span class="token parameter">number<span class="token punctuation">,</span>resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> number <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">//resolve</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span>number <span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">?</span> <span class="token string">"양수"</span> <span class="token operator">:</span> <span class="token string">"음수"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"주어진 값이 숫자형이 아닙니다"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Promise 객체를 반환하여 구현한 비동기 코드</span>
<span class="token keyword">function</span> <span class="token function">isPositiveP</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//실행자 </span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> number <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">resolve</span><span class="token punctuation">(</span>number <span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">?</span> <span class="token string">"양수"</span> <span class="token operator">:</span> <span class="token string">"음수"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"주어진 값이 숫자형이 아닙니다"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">isPostiveP</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//101</span>

res
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> 
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"작업 성공: "</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"작업에러"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre></div>
<p><code class="language-text">then</code> 과 <code class="language-text">catch</code> 구문을 활용하여 Fulfilled 상태인지 Rejected 상태인지 처리 결과값을 반환 받을 수 있습니다.</p>
<h2>여러 개의 프로미스 연결하기 (Promise Chaining)</h2>
<p>프로미스의 또 다른 특징은 <strong>여러 개의 프로미스를 연결</strong>하여 사용할 수 있다는 점입니다. 앞 예제에서 <code class="language-text">then()</code> 메서드를 호출하고 나면 새로운 프로미스 객체가 반환됩니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// then() 으로 여러 개의 프로미스를 연결한 형식</span>
<span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>async- await : 직관적인 비동기 처리 코드 작성</h2>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// async 예제</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">helloAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">'hello async'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> </code></pre></div>
<p><code class="language-text">helloAsync()</code> 함수 콘솔을 찍으면 <strong>Promise 객체</strong>를 반환하는데 이는 <code class="language-text">async</code> 함수의 특징 중, Promise 객체를 반환하는 특징 때문입니다.</p>
<p>이때 다음 코드를 출력해보면 ‘hello async’가 정상적으로 콘솔에 출력됩니다. 이는 <code class="language-text">res</code> 콜백함수가 <code class="language-text">helloAsync</code>함수의 return을 바라봤다고 볼 수 있습니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx">helloAsync<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// await 예제</span>
<span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">helloAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'hello async'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> </code></pre></div>
<p>위 함수를 <strong>async-await 구문</strong>으로 리팩토링하면 아래와 같습니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">helloAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">await</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">'hello async'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">helloAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3초 기다렸다가 'hello async' 반환</span></code></pre></div>
<p>이때 <code class="language-text">await</code> 함수는 동기적으로 수행되기 때문에, await에 선언된 구문을 먼저 수행을 해야 return할 수 있는 구조이다.</p>
<h4>async-await 구문 정리</h4>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">함수명</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">비동기_처리_메서드_명</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>API 호출</h2>
<p>API : 클라이언트와 서버간 통신할 수 있도록 도와줌 (request and response)</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// &lt;JSON placeholder를 활용한 API 호출 메소드 예제></span>
<span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'Json Placeholder URL...'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> 
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>이때 <code class="language-text">fetch()</code> 함수에 hover시, <code class="language-text">Promise&lt;Response></code> 로 Promise 객체를 반환함을 알 수 있습니다. 즉 <code class="language-text">fetch()</code> 함수는 <strong>비동기 함수</strong> 임을 의미하고, <code class="language-text">then</code> 키워드도 작성할 수 있습니다.</p>
<p>이를 이제 async-await 함수를 통해 리팩토링 시, 다음과 같습니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">async</span> functiong <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> rawResponse <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'Json URL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> jsonResponse <span class="token operator">=</span> <span class="token keyword">await</span> rawResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jsonResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 객체 배열 반환 </span></code></pre></div></div><style data-emotion="css l9zn25">.css-l9zn25{height:56px;margin-bottom:30px;}.css-l9zn25 ul{text-align:center;}.css-l9zn25 li{display:inline-block;*display:block;*zoom:1;height:56px;line-height:56px;white-space:nowrap;margin:0 10px;}.css-l9zn25 svg{margin-top:-3px;width:21px;height:21px;vertical-align:middle;}.css-l9zn25 a{-webkit-text-decoration:none;text-decoration:none;}.css-l9zn25 a:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-l9zn25 span{cursor:not-allowed;color:#888;}</style><nav class="css-l9zn25 e1t5r2y70"><ul><li><a href="/Redux-Toolkit/"><svg width="30px" height="30px" viewBox="0 0 24 24" fill="current"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z" fill="#000000"></path></svg> 다음글</a></li><li><a href="/create-react-app/">이전글 <svg width="30px" height="30px" viewBox="0 0 24 24" fill="current"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L9.70711 19.7071C9.31658 20.0976 8.68342 20.0976 8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929L14.5858 12L8.29289 5.70711C7.90237 5.31658 7.90237 4.68342 8.29289 4.29289Z" fill="#000000"></path></svg></a></li></ul></nav><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1gqsjds0"></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">© <!-- -->2023<!-- --> Damin-Kim, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/자바스크립트-비동기함수/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-ba379c32c42dcca19b1a.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-2073c6e4755e6d0bfb15.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-8a7fae402fdc82d016f9.js\"],\"component---src-pages-info-tsx\":[\"/component---src-pages-info-tsx-1f7231da34a5e78aa38a.js\"],\"component---src-templates-post-template-tsx\":[\"/component---src-templates-post-template-tsx-5ad740f49cd0d6336f6c.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="749aaf5a1e37b74ce3d0";</script><script src="/webpack-runtime-da55a2ea9c60d9379480.js" async></script><script src="/framework-a4e155cd0476dc1ca208.js" async></script><script src="/app-ba379c32c42dcca19b1a.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>