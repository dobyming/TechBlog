{"componentChunkName":"component---src-templates-post-template-tsx","path":"/TIL/what-is-CORS/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3 id=\"origin-이란\" style=\"position:relative;\"><a href=\"#origin-%EC%9D%B4%EB%9E%80\" aria-label=\"origin 이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Origin 이란?</h3>\n<p>아래와 같이 사이트들이 있다고 가정해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">http://localhost:8000\r\nhttps://api.alazierplace.com:3000/api/\r\nhttps://alazierplace.com/2019/05/data-driven-testing-how-we-went-from-150-test-cases-to-1/</code></pre></div>\n<p>scheme(http,https) + IP 주소 또는 도메인 + :포트넘버 ⇒ 해당 구성을 Origin 이라고 칭합니다.</p>\n<p>JS의 Script 파일이 HTTP에 API 요청을 할때, 서버에 요청을 보내기 전에 Origin 정보를 헤더에 저장합니다.</p>\n<h3 id=\"cors-이슈가-중요한-이유\" style=\"position:relative;\"><a href=\"#cors-%EC%9D%B4%EC%8A%88%EA%B0%80-%EC%A4%91%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\"cors 이슈가 중요한 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS 이슈가 중요한 이유</h3>\n<p>Origin이 다른 헤더값을 계속해서 요청하게 되면, 악의적인 스크립트로 인해 보안성이 취약해지고, 유저와 사이트에 해가 될 수 있습니다.\r\n특히 <code class=\"language-text\">same-orign policy</code> 는 클라이언트 쪽에서 더 중요하게 다뤄지는 부분이기 때문에 더욱이 CORS를 따져줘야 합니다. (*<code class=\"language-text\">same-origin-policy</code> : 없는 도메인 값 또는 포트를 요청하는 행위)</p>\n<h3 id=\"cors란\" style=\"position:relative;\"><a href=\"#cors%EB%9E%80\" aria-label=\"cors란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS란?</h3>\n<p>Cross-Origin Resource Sharing의 약자로, W3C가 제안한 웹 표준으로 클라이언트가 실행되는 브라우저에서 origin값을 접근할 수 있도록 가능케 하는 개념입니다.</p>\n<p><img src=\"https://i0.wp.com/alazierplace.com/wp-content/uploads/2019/06/CORS-flow.png?resize=833%2C406&#x26;ssl=1\" alt=\"Request/Response cycle for a CORS Request\"></p>\n<p>Request/Response cycle for a CORS Request</p>\n<p><strong>&#x3C;실행 순서></strong></p>\n<ul>\n<li>JS 클라이언트가 AJAX call을 시작함</li>\n<li>브라우저가 (실제 클라이언트가 서버에 요청을 보내기전에) request를 intercept하여 <code class=\"language-text\">pre-flight</code> 요청을 보냄</li>\n<li>서버는 <code class=\"language-text\">pre-flight</code> 에 대한 response에 CORS configuration을 담은 HTTP 헤더를 브라우저에 보냄</li>\n<li>CORS가 verify되면 실제 클라이언트가 request한 값을 서버에 보내게 됌</li>\n<li>서버는 요청한 response값을 JS Client에 보내줌</li>\n</ul>\n<p><strong><strong><strong><strong><strong><strong><strong><strong><strong>pre-flight request?</strong></strong></strong></strong></strong></strong></strong></strong></strong></p>\n<ul>\n<li>HTML 옵션을 request 하는 것으로, 이에 대한 response로는 CORS configuration(구성 파일)을 명시하는 HTTP 헤더</li>\n<li>한번만 보내지고, 브라우저에 의한 캐싱이 처리된다.</li>\n<li>매번 CORS request가 보내지는건 아니고 다음과 같은 조건에 부합할때 보내진다.\n<ul>\n<li><code class=\"language-text\">HEAD</code>, <code class=\"language-text\">POST</code>, <code class=\"language-text\">GET</code> 이외의 HTTP 메소드를 request 할때</li>\n<li>Content-type request에 application/x-www-form-urlencoded, multipart/form-data 및 text/plain 이외의 값이 있을때</li>\n<li>요청이 Accept, Accept-Language 및 Content-Language 이외의 헤더를 설정할때</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"그래서-왜-이렇게까지-cors를-따져야-할까\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%99%9C-%EC%9D%B4%EB%A0%87%EA%B2%8C%EA%B9%8C%EC%A7%80-cors%EB%A5%BC-%EB%94%B0%EC%A0%B8%EC%95%BC-%ED%95%A0%EA%B9%8C\" aria-label=\"그래서 왜 이렇게까지 cors를 따져야 할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 왜 이렇게까지 CORS를 따져야 할까?</h3>\n<p>JavaScript는 돌아갈 수 있는 실행환경이 다양하기 때문입니다.</p>\n<p>특히 JavaScript 같은 경우는, 네트워크를 통해 브라우저의 형태로 사용자에게 제공됩니다. 그리고 웹뿐만 아니라 모바일 웹에서도 접근이 가능하기 때문에 실행환경 역시 다양해집니다.</p>\n<p>브라우저는 로그인 정보, 쿠키, 세션등 민감한 정보들을 담고 있고 이에 대한 철저한 규제가 필요할 것입니다.</p>\n<p>비유해서 말하면.. 이상한 사람이 맛있는거 사준다고 해도 쫓아가면 안된다 를 표현한 개념이 CORS라고 볼 수 있습니다. JavaScript 클라이언트에서 이에 대한 빡센 규정이 필요하죠.</p>","headings":[{"depth":3,"value":"Origin 이란?"},{"depth":3,"value":"CORS 이슈가 중요한 이유"},{"depth":3,"value":"CORS란?"},{"depth":3,"value":"그래서 왜 이렇게까지 CORS를 따져야 할까?"}],"frontmatter":{"title":"CORS에 대해서 알아보자","summary":"CORS의 개념에 대해서 익히고 왜 이 개념이 모던 웹에서 중요한지 다뤄봅니다.","date":"2023.05.01.","categories":["CORS","Web"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA50lEQVR42rWO20oCURSGvz0H56Q2yYw6zm4acii9CaOQKPAisugE3hRRXXQVPUNPH2sUsxG88+Nn8a+112HDCoYSqTUjT2CWlS1gKC673Goil/M2d5qGzVnMVQ/fomgy1ezXpVNVxoCLDvd77DrcaK5Tjls8H/BW8Npn0uV7uNhbHTbL7DHjNBLzkHESEVh8HvI15GdE3iDxeenzlP0dWzD3LYePglnOUSjxvWAQMo5JA6ap/GuWM26vXV7imnQ8PEsWxS5NWxTY7NSknvj/b1ZwTOlIPHQgJvXRdXpzX8aawdZQG1XhFyB9Ewoa+TTIAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/6653f355a7af866c769f01ff374c2dae/fbe46/cors.png","srcSet":"/static/6653f355a7af866c769f01ff374c2dae/f5707/cors.png 81w,\n/static/6653f355a7af866c769f01ff374c2dae/51cb3/cors.png 162w,\n/static/6653f355a7af866c769f01ff374c2dae/fbe46/cors.png 324w","sizes":"(min-width: 324px) 324px, 100vw"},"sources":[{"srcSet":"/static/6653f355a7af866c769f01ff374c2dae/74750/cors.webp 81w,\n/static/6653f355a7af866c769f01ff374c2dae/97868/cors.webp 162w,\n/static/6653f355a7af866c769f01ff374c2dae/3fe45/cors.webp 324w","type":"image/webp","sizes":"(min-width: 324px) 324px, 100vw"}]},"width":324,"height":156}},"publicURL":"/static/6653f355a7af866c769f01ff374c2dae/cors.png"}}}}]}},"pageContext":{"slug":"/TIL/what-is-CORS/","prev":{"node":{"fields":{"slug":"/Develop/Gastby-이전글-다음글-구현/"},"headings":[{"depth":2,"value":"동기"},{"depth":2,"value":"결과"},{"depth":2,"value":"gatsby-node.js 파일 수정"},{"depth":2,"value":"이전글/다음글 컴포넌트 설계하기"},{"depth":2,"value":"post_template 에서 slug 조작하기"},{"depth":2,"value":"맺음말"}]}},"next":{"node":{"fields":{"slug":"/TIL/what-is-gatsby/"},"headings":[{"depth":3,"value":"Gatsby에 대해 설명하기 전에.."},{"depth":3,"value":"JAM Stack이란?"},{"depth":4,"value":"1. 기존 방식에 비해 더 빠르게 웹 사이트를 제공할 수 있습니다."},{"depth":4,"value":"2. 안전한 웹 사이트를 제공할 수 있습니다."},{"depth":4,"value":"3. 스케일링하기 쉬운 웹 사이트를 제공할 수 있습니다."},{"depth":3,"value":"Gatsby VS Next.js"}]}}}},"staticQueryHashes":["1463137677"],"slicesMap":{}}