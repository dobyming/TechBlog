{"componentChunkName":"component---src-templates-post-template-tsx","path":"/Develop/Type-Assertion-CustomHook/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>개발블로그 운영을 약 3개월 하면서 모바일 반응형 UI/UX를 손 보고 있었습니다. 리팩토링을 수행하면서 그중 타입스크립트의 <strong>타입 단언(Type Assertion)</strong> 개념을 활용한것을 리팩토링 사례와 함께 설명하고자 합니다.</p>\n<p>개념은 일부 알고 있었지만(한 30%..?), 실무나 프로젝트에선 어떻게 활용될까? 생각하면서 서서히 잊혀졌던 개념을 마침내 제 프로젝트에 적용한 글입니다. 사실 에러를 해결한 부분은 간단하지만 동기가 좀 이것저것 많습니다..</p>\n<h2 id=\"custom-hook-생성할-수-밖에-없던-이유\" style=\"position:relative;\"><a href=\"#custom-hook-%EC%83%9D%EC%84%B1%ED%95%A0-%EC%88%98-%EB%B0%96%EC%97%90-%EC%97%86%EB%8D%98-%EC%9D%B4%EC%9C%A0\" aria-label=\"custom hook 생성할 수 밖에 없던 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Custom Hook 생성할 수 밖에 없던 이유</h2>\n<p>우선 모바일 UI를 바꾸고자 했습니다. 기존에는 모바일 화면으로 제 블로그에 접속 시, 오른쪽 NavBar 부분들이 빼곡히 보여.. 미간상 그닥 예뻐 보이지 않아서 리팩토링을 시작했습니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/6784ce67-9924-47b2-a276-f6b1364eedf5/image.png\" alt=\"\"></p>\n<p>저 3개의 기능들을 Reorder Icon으로 하나로 다 묶어서 관리하려고 했고,\r\n<img src=\"https://velog.velcdn.com/images/damin1025/post/8debab24-12c8-42c6-92e9-fe5ac02c8924/image.gif\" alt=\"\"></p>\n<p>이런식으로 다크모드도 모바일 화면에서 Reorder Icon 내에 배치하여 깔끔한 UI로 리팩토링 해야겠다 생각했습니다.</p>\n<blockquote>\n<p>✨ 그럼 다크모드의 상태값을 어떻게 불러올것인가?</p>\n</blockquote>\n<p>커스텀 훅을 만들어야겠단 생각의 시초는 이 고민에서부터 시작됐습니다.</p>\n<p>즉 파일 구조와 함께 설명을 하자면\r\nPC 버전에서 다크모드 기능을 수행하는 <code class=\"language-text\">HeaderTheme</code> 이라는 컴포넌트를 불러와서 <code class=\"language-text\">Introduction</code> 컴포넌트에 import 하는 방식으로 수행했습니다.</p>\n<p>문제는 모바일에서도 이 상태를 공유할 수 있어야 하는데, <code class=\"language-text\">HeaderTheme</code> 컴포넌트에서 상태값과 SVG 아이콘을 모두 관리하고 있는 상태라 모바일에서 이 상태값을 사용하기 위해서는 <code class=\"language-text\">HeaderTheme</code>을 import해야 사용할 수 있는 구조였습니다.</p>\n<p>하지만 모바일에서는 다크모드 기능 수행의 UI를 SVG 아이콘이 아닌 텍스트 형태로 구성하고 싶었고, 그리고 다크모드는 PC에서도 모바일에서도 자주 요구되는 기능이기 때문에 커스텀 훅으로 빼놓는것이 알맞은 쓰임이라고 생각해서 다크모드의 상태값을 여러 컴포넌트에서 공유할 수 있도록 커스텀 훅을 제작하기로 했습니다.</p>\n<h2 id=\"타입-단언의-활용\" style=\"position:relative;\"><a href=\"#%ED%83%80%EC%9E%85-%EB%8B%A8%EC%96%B8%EC%9D%98-%ED%99%9C%EC%9A%A9\" aria-label=\"타입 단언의 활용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>타입 단언의 활용</h2>\n<p><code class=\"language-text\">useTheme.tsx</code> 이라는 파일의 이름으로 다크모드의 상태값을 관리하는 커스텀 훅을 구현에 진행했고, 프로젝트를 빌드하려고 했으나 에러가 발생했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useLayoutEffect<span class=\"token punctuation\">,</span> useCallback <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> isBrowser <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../util'</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useTheme</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">,</span> setTheme<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">boolean</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isBrowser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span>\r\n  <span class=\"token keyword\">const</span> userTheme <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color-theme'</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token comment\">// Belong to isDark state, store theme in localStorage</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">saveTheme</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>it<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color-theme'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color-theme'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">// trigger theme change refer localStorage's key-value</span>\r\n  <span class=\"token function\">useLayoutEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>userTheme <span class=\"token operator\">===</span> <span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n      document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token function\">setIsDark</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n      document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token function\">setIsDark</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>userTheme<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token comment\">// while clicking button, what to show svg logo</span>\r\n  <span class=\"token keyword\">const</span> handleTheme <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">setIsDark</span><span class=\"token punctuation\">(</span>prev <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">saveTheme</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>prev<span class=\"token punctuation\">)</span>\r\n      <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span>prev\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">,</span> handleTheme<span class=\"token punctuation\">]</span> <span class=\"token comment\">// 이 값을 각각의 컴포넌트에 전달 </span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> useTheme</code></pre></div>\n<p><code class=\"language-text\">Type 'Boolean | (() => void) | null' is not assignable to type '() => void'</code>\r\n이런 에러를 만나게 됐습니다. theme과 handleTheme을 컴포넌트에 전달할때 제대로 된 타입을 명시하지 않아서 발생하게 된 에러입니다.</p>\n<p>더 자세히 파고 들어보겠습니다. 여기 <code class=\"language-text\">useTheme</code> 커스텀 훅의 상태값과 상태함수를 이용할 컴포넌트 <code class=\"language-text\">HeaderTheme</code>이 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">HeaderTheme</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isDark<span class=\"token punctuation\">,</span> setIsDark<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ClientOnly</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeHeader</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>themeIcon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setIsDark<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n        </span><span class=\"token punctuation\">{</span>isDark <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Sun</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#FF5733<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#FF5733<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n        <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Moon</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#FFD700<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#FFD700<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ThemeHeader</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ClientOnly</span></span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> HeaderTheme</code></pre></div>\n<p>ThemeHeader는 이벤트 함수로 <code class=\"language-text\">setIsDark</code>를 받아올것이고, <code class=\"language-text\">isDark</code> 상태값에 따라 어떤 아이콘을 보여줄 것인지 결정할것입니다.</p>\n<p>onClick은 당연히 함수가 들어와야 하는 부분입니다. 하지만 타입스크립트 측면으로 봤을때는 return부에 타입이 제대로 지정이 되지 않았기 때문에 union type으로 onClick에 담기게 됩니다. ‘boolean도 받을 수 있고 void 타입도 받을 수 있어!’를 전달하기 때문에 onClick의 입장에선 ‘boolean 뭔데..?’ 로 받아들여 에러가 발생합니다. 타입스크립트는 확실한걸 좋아하는 언어라는게 느껴지죠</p>\n<p><a href=\"https://fettblog.eu/typescript-react-typeing-custom-hooks/\" target=\"_blank\" rel=\"nofollow\">Typing Custom hook</a> 해당 docs를 통해 해결할 수 있었는데</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">,</span>handleTheme<span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">const</span></code></pre></div>\n<p>저는 return 부에 <code class=\"language-text\">as</code> 타입 단언 명령을 통해 boolean과 void 타입을 상수로 지정하고 이를 컴포넌트에 넘기는 방식을 택했습니다.</p>\n<p>이때 Gatsby로 개발을 수행하시는 분들은 SSR(window is not defined)까지 신경을 써서 개발에 진행해야 합니다. 왜냐면 이 커스텀 훅의 return 타입으론 <code class=\"language-text\">[boolean,()=>void]</code>만 받을겁니다.\r\nwindow 메서드가 활용되는 부분에만 if 조건문으로 감싸서 validate 시, SSR 에러 발생 없이 정상적으로 커스텀 훅이 작동됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 저는 따로 ssr validate function인 isBrowser()를 생성했어요</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">saveTheme</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>it<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isBrowser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color-theme'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color-theme'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">/* Trigger theme modification by refering localStorage */</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isBrowser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> userTheme <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color-theme'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token function\">useLayoutEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>userTheme <span class=\"token operator\">===</span> <span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token function\">setTheme</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token function\">setTheme</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>userTheme<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span></code></pre></div>","headings":[{"depth":2,"value":"Custom Hook 생성할 수 밖에 없던 이유"},{"depth":2,"value":"타입 단언의 활용"}],"frontmatter":{"title":"커스텀 훅 생성에 따른 타입 잡아내기","summary":"타입스크립트의 타입 단언을 통해 Custom Hook 제대로 Return 해볼까요?","date":"2023.07.24.","categories":["Web","Gatsby","TypeScript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDklEQVR42mPgMEjERNxGSTzGyTzGyVyGSVxGSdzGyViVMWARNUxiVo1gkA1ikA1m1ohmUo1gkAth1Y7lMEwioJnLMIlRKzahetaERTsmLt7pmtIRmDdh6vLdKh7FTNqxnKj60TVzGiax6ScYBFbtO3F12vLdFhEN5649qJ+yVto+h0UnjoBmDoNEHpMUBjHf/vlbE8umMwh7p9XP3X7ookdaF4NWDBdBzdzGyQyKobNW7UupncNnmpLTsnDy0l2rdpxkUIngNkomoJnLKIlBPSoob4J5eD2LTlxF38pJS3Zq+ZYzE+NsiM+ZNaNZdeLY9RMYlMMYlMNZtGIIhzZysEPs4TZK5jZK5sTQCdQMAILChuWE/Q4WAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/1b5b41ac34db165a374d4cdc9fa134c4/d0224/thumbnail-ts.png","srcSet":"/static/1b5b41ac34db165a374d4cdc9fa134c4/e4016/thumbnail-ts.png 256w,\n/static/1b5b41ac34db165a374d4cdc9fa134c4/c90bd/thumbnail-ts.png 512w,\n/static/1b5b41ac34db165a374d4cdc9fa134c4/d0224/thumbnail-ts.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/1b5b41ac34db165a374d4cdc9fa134c4/15396/thumbnail-ts.webp 256w,\n/static/1b5b41ac34db165a374d4cdc9fa134c4/24228/thumbnail-ts.webp 512w,\n/static/1b5b41ac34db165a374d4cdc9fa134c4/1b730/thumbnail-ts.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":438}},"publicURL":"/static/1b5b41ac34db165a374d4cdc9fa134c4/thumbnail-ts.png"}}}}]}},"pageContext":{"slug":"/Develop/Type-Assertion-CustomHook/","prev":null,"next":{"node":{"fields":{"slug":"/Develop/Gatsby-Search/"},"headings":[{"depth":2,"value":"동기"},{"depth":2,"value":"결과 화면"},{"depth":2,"value":"어떤 기술을 선택할 것인가"},{"depth":2,"value":"검색 관련 라이브러리"},{"depth":2,"value":"fuse.js 검색"},{"depth":3,"value":"Gatsby에서 fuse.js 사용하기"},{"depth":3,"value":"gatsby-plugin-fusejs"},{"depth":3,"value":"react-use-fusejs"},{"depth":2,"value":"배포 후 성능 check"}]}}}},"staticQueryHashes":["1463137677"],"slicesMap":{}}