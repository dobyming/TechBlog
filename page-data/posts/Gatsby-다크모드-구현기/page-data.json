{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/Gatsby-ë‹¤í¬ëª¨ë“œ-êµ¬í˜„ê¸°/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>ìš°ì„  ê¸€ì„ ì‹œì‘í•˜ê¸° ì „ì—.. 5ì›” 24ì¼ ë¶€ë¡œ ë¸”ë¡œê·¸ ê°œë°œì„ ì‹œì‘í•œì§€ 1ë‹¬ ë„˜ì€ ì‹œì ì—ì„œ 100ê°œì˜ commitì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤..ğŸ¥³</p>\n<div style=\"text-align:center\"><img src=\"https://velog.velcdn.com/images/damin1025/post/0e0117f4-e670-4a3c-a849-c5eadf34c786/image.PNG\"></div>\n<p>ì €ì—ê²Œ ì´ <code class=\"language-text\">ê°œë°œ ë¸”ë¡œê·¸</code> í”„ë¡œì íŠ¸ëŠ” <strong>í”„ë¡ íŠ¸ì—”ë“œê°€ ë­”ì§€ ì œëŒ€ë¡œ ë³´ì—¬ì¤€</strong> í”„ë¡œì íŠ¸ë‚˜ ë‹¤ë¦„ ì—†ì–´ì„œ ë°°ìš´ê²Œ ì •ë§ ë§ì€ ê³ ë§ˆìš´ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ë§Œì•½ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ë‚´ ì»¤ë¦¬ì–´íŒ¨ìŠ¤ë¡œ ë°Ÿê³  ì‹¶ë‹¤ê³  í•œë‹¤ë©´ ìì‹ ë§Œì˜ ë¸”ë¡œê·¸ ë§Œë“œëŠ” ê²ƒì„ ì ê·¹ ì¶”ì²œí•  ì •ë„ë¡œ ë°°ìš¸ê²Œ ì •ë§ ë§ê³  ì¢‹ì€ í”„ë¡œì íŠ¸ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.</p>\n<p>ì‚¬ì¡±ì€ ì—¬ê¸°ì„œ ë§ˆë¬´ë¦¬ ì§“ê³ .. ë‹¤í¬ëª¨ë“œë¥¼ êµ¬í˜„í•˜ë©´ì„œ ê²ªì€ ì œ ì‚½ì§ˆê¸°ë¥¼ ë‚˜ì—´í•´ë³´ê² ìŠµë‹ˆë‹¤ ğŸ¤ªâ€¦</p>\n<h2 id=\"ë™ê¸°\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EA%B8%B0\" aria-label=\"ë™ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ê¸°</h2>\n<p>ì´ í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒ êµ¬ìƒí•˜ê³  ê·¸ë¦¬ê³  ê¸°ëŠ¥ë“¤ì„ í•˜ë‚˜ì”© ë§Œë“¤ì–´ ë‚˜ê°ˆë•Œ ì„¸ìš´ ëª©í‘œ ì¤‘ í•˜ë‚˜ê°€ ë‹¤í¬ëª¨ë“œëŠ” ê¼­ ë§Œë“¤ì–´ì•¼ì§€..! ìƒê°í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì´ì œ ì—†ìœ¼ë©´ í—ˆì „í•  ì •ë„ë¼ê³  ë³¼ ìˆ˜ ìˆëŠ” <strong>ë‹¤í¬ëª¨ë“œğŸŒ—</strong> ê¸°ëŠ¥ì„ Gatsbyì™€ ì–´ëŠì •ë„ ì¹œí•´ì§€ë©´ ì œëŒ€ë¡œ íŒŒì•¼ê² ë‹¤ ìƒê°í–ˆê³  ë•Œê°€ ì˜¨ ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ì¼ì „ì— Reactë¥¼ ë°°ìš°ê¸° ìœ„í•´ì„œ <a href=\"https://github.com/dobyming/Emotionary\" target=\"_blank\" rel=\"nofollow\">Emotionary</a> í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰ ì¤‘, <code class=\"language-text\">Provider</code> ê°œë…ì„ í™œìš©í•˜ì—¬ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ <code class=\"language-text\">theme</code> propsë¥¼ ì „ë‹¬í•˜ì—¬ ë‹¤í¬ëª¨ë“œë¥¼ êµ¬í˜„í–ˆë˜ ê²½í—˜ì´ ìˆì—ˆê³ , Gatsbyì—ì„œë„ ì´ëŸ° ê°œë…ì„ í™œìš©í•˜ë©´ ë˜ë ¤ë‚˜? ìƒê°ìœ¼ë¡œë¶€í„° ì‹œì‘í•˜ë©° êµ¬í˜„ì— Dive í–ˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"themeì„-ì–´ë–»ê²Œ-ì „ë‹¬í• -ê²ƒì¸ê°€--themeprovider-vs-css-variable\" style=\"position:relative;\"><a href=\"#theme%EC%9D%84-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A0%84%EB%8B%AC%ED%95%A0-%EA%B2%83%EC%9D%B8%EA%B0%80--themeprovider-vs-css-variable\" aria-label=\"themeì„ ì–´ë–»ê²Œ ì „ë‹¬í•  ê²ƒì¸ê°€  themeprovider vs css variable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Themeì„ ì–´ë–»ê²Œ ì „ë‹¬í•  ê²ƒì¸ê°€ : ThemeProvider VS CSS Variable</h2>\n<p>ëŒ€ëµì ì¸ Mock Upì€ ì´ë ‡ê²Œ êµ¬ìƒí–ˆì—ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>í† ê¸€ ë²„íŠ¼ì´ ìˆìŒ(component) -> í´ë¦­ ê°’(state)ì— ë”°ë¼ ì–´ë–¤ themeì„ ë³´ì—¬ì¤„ì§€ ê²°ì •í•  ê²ƒ. (boolean ì†ì„±ìœ¼ë¡œ trueë©´ dark, falseë©´ light)</p>\n</blockquote>\n<p>ê·¸ë¦¬ê³  ì´ë•Œ <code class=\"language-text\">theme</code>ì„ ì–´ë–»ê²Œ ì „ë‹¬í•  ê²ƒì¸ê°€? ì´ê²Œ ê´€ê±´ì´ì—ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"-emotionì˜-themeproviderë¡œ-ì‚½ì§ˆ\" style=\"position:relative;\"><a href=\"#-emotion%EC%9D%98-themeprovider%EB%A1%9C-%EC%82%BD%EC%A7%88\" aria-label=\" emotionì˜ themeproviderë¡œ ì‚½ì§ˆ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤” emotionì˜ ThemeProviderë¡œ ì‚½ì§ˆ</h3>\n<p><del>ì˜¤ë˜ì „ì— ìˆ˜í–‰í•œ ì‚½ì§ˆì´ë¼ ê¸°ì–µì´ ì•½ê°„ ê°€ë¬¼í•˜ë„¤ìš”â€¦ã… </del></p>\n<p>ê¸°ì¡´ì— <code class=\"language-text\">Provider</code>ë¥¼ í™œìš©í•˜ì—¬ êµ¬í˜„í•´ ë³¸ ê²½í—˜ì´ ìˆì—ˆê¸° ë•Œë¬¸ì— ë§ˆì¹¨ <code class=\"language-text\">emotion</code>ì—ì„œ <code class=\"language-text\">ThemeProvider</code> Theme packageë¥¼ ì§€ì›í•˜ê³  ìˆì—ˆê³  ì € ì—­ì‹œ ì´ê±¸ë¡œ êµ¬í˜„í•´ì•¼ê² ë‹¤ ìƒê°í•˜ë©° ì½”ë“œ êµ¬í˜„ì— ì§„í–‰í–ˆì§€ë§Œ, â€¦ buildëŠ” ì»¤ë…• develop ë‹¨ê³„ì—ì„œë¶€í„° errorë¥¼ ë§Œë‚˜ê²Œ ë˜ì–´ ë¨¸ë¦¬ë¥¼ ì‹¸ë§¸ìŠµë‹ˆë‹¤.</p>\n<h3 id=\"-css-variableë¡œ-ê´‘ëª…ì„-ì°¾ë‹¤\" style=\"position:relative;\"><a href=\"#-css-variable%EB%A1%9C-%EA%B4%91%EB%AA%85%EC%9D%84-%EC%B0%BE%EB%8B%A4\" aria-label=\" css variableë¡œ ê´‘ëª…ì„ ì°¾ë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¥° CSS Variableë¡œ ê´‘ëª…ì„ ì°¾ë‹¤</h3>\n<p>â€˜í† ê¸€ ë²„íŠ¼ì˜ í´ë¦­ ê°’ì— ë”°ë¼ ì–´ë–¤ themeì„ ë³´ì—¬ì¤„ ì§€..â€™ ì´ ë¬¸ì¥ì—ì„œ CSS Variableê³¼ ì—®ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// trigger theme change refer localStorage's key-value</span>\r\n <span class=\"token function\">useLayoutEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>userTheme <span class=\"token operator\">===</span> <span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token function\">setIsDark</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token function\">setIsDark</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>userTheme<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì—¬ê¸°ì„œ <code class=\"language-text\">userTheme</code>ì´ í˜„ì¬ stateì´ê³ , ê·¸ stateê°€ <code class=\"language-text\">dark</code>ë¼ë©´ <code class=\"language-text\">body</code> íƒœê·¸ì˜ classNameì„ <code class=\"language-text\">dark</code>ë¼ê³  ì§€ì •í•˜ê³ , ê·¸ ë°˜ëŒ€ë©´ <code class=\"language-text\">light</code>ë¡œ ì§€ì •í•©ë‹ˆë‹¤.</p>\n<p>ê·¸ëŸ¬ë©´ ì´ <code class=\"language-text\">body</code> íƒœê·¸ì˜ classNameì— ë”°ë¼ì„œ CSS Variableë¡œ ì§€ì •í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/*theme.css*/</span>\r\n\r\n<span class=\"token selector\">.light</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">--color-background</span><span class=\"token punctuation\">:</span>#f6f6f6<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token selector\">.dark</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">--color-background</span><span class=\"token punctuation\">:</span> #25262c<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">--color-text</span><span class=\"token punctuation\">:</span> #f6f6f6<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color-background<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> 0.2s<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token selector\">h1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nhr,\r\na,\r\np,\r\nli,\r\ntd,\r\ntr,\r\nfooter,\r\nspan</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color-text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">theme.css</code> íŒŒì¼ì— ìœ„ì™€ ê°™ì´ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒë‹¨ì—ëŠ” bodyì˜ classNameì— ë”°ë¼ì„œ ì–´ë–¤ css ì†ì„± ê°’ì„ ë¶€ì—¬í•  ì§€ rgb ê°’ì„ ì •ì˜í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  <strong>ì›í•˜ëŠ” íƒœê·¸ì— ì›í•˜ëŠ” CSS Variable</strong>ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ë¡œì§ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©´ ì „ì²´ì ìœ¼ë¡œ ê°œë°œ ë¸”ë¡œê·¸ì— ë‹¤í¬ëª¨ë“œê°€ ì ìš©ë¨ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ê·¸ë¦¬ê³  ì‹¤ì œë¡œ Providerë¥¼ í™œìš©í•´ ë‹¤í¬ëª¨ë“œë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒë³´ë‹¨, CSS Variableì„ í™œìš©í•˜ì—¬ êµ¬í˜„í•œ ê²ƒì´ <strong>ì„±ëŠ¥ì ì¸</strong> ì¸¡ë©´ì—ì„œë„ ë” ì¢‹ì€ ì§€í‘œë¥¼ ë³´ì—¬ì¤¬ìŠµë‹ˆë‹¤.\r\n<a href=\"https://github.com/dobyming/dobyming.github.io/pull/11\" target=\"_blank\" rel=\"nofollow\">Dark Mode Theme PR</a> í•´ë‹¹ ë§í¬ë¡œ ê°€ì‹œë©´ ì œê°€ ì™œ CSS Variableì„ ì„ íƒí•˜ì—¬ êµ¬í˜„ì— ì§„í–‰í–ˆëŠ”ì§€ ìì„¸í•œ ì§€í‘œì™€ ì„¤ëª…ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>+) ì¶”ê°€ë¡œ SVG Iconì— ë‹¤í¬ëª¨ë“œë¥¼ ì–´ë–»ê²Œ ì ìš©í•´ì•¼ í•  ì§€ ë§‰ë§‰í•œ ë¶„ë“¤ê»˜ ê°„ëµí•œ ì½”ë“œë¥¼ ë³´ì—¬ë“œë¦¬ê³ ì í•©ë‹ˆë‹¤. (ì‚¬ì‹¤ ë‚´ê°€ ë°”ë³´ì—¬ì„œ í—·ê°ˆë ¤í–ˆìŒ..)</p>\n</blockquote>\n<p>ìš°ì„  SVG ê°™ì€ ê²½ìš°ì—ëŠ” ìƒ‰ìƒì´ ë‹´ê¸¸ ìˆ˜ ìˆë„ë¡ <code class=\"language-text\">fill</code>ê³¼ <code class=\"language-text\">stroke</code> ì†ì„±ì„ ì§€ì • í•´ì•¼í•©ë‹ˆë‹¤. <code class=\"language-text\">fill</code>ì€ ì±„ì›Œì§€ëŠ” ìƒ‰ì´ê³  <code class=\"language-text\">stroke</code>ëŠ” í…Œë‘ë¦¬ìƒ‰ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ <code class=\"language-text\">.svg</code> íŒŒì¼ì—ì„œ <strong><code class=\"language-text\">path</code> íƒœê·¸ ë‚´ì— fillê³¼ stroke ì†ì„±ì„ current</strong>ë¡œ ì§€ì •í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre class=\"language-svg\"><code class=\"language-svg\">// ì˜ˆì‹œ svg\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>30px<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>30px<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 24 24<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2000/svg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill-rule</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>evenodd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">clip-rule</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>evenodd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000000<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ê·¸ëŸ¼ ìƒ‰ìƒì„ ì§€ì •í•˜ê³ ì í•˜ëŠ” SVG Iconì— classNameì„ ë¶€ì—¬í•œ í›„, ìì‹ ì´ ì •ì˜í•œ theme css íŒŒì¼ì— ë§ˆì°¬ê°€ì§€ë¡œ CSS Variableë¡œ ì§€ì •í•˜ë©´ ëì…ë‹ˆë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.githubIcon path</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">fill</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color-text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"flicker-issue-ì—ëŸ¬-í•´ê²°í•˜ê¸°\" style=\"position:relative;\"><a href=\"#flicker-issue-%EC%97%90%EB%9F%AC-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0\" aria-label=\"flicker issue ì—ëŸ¬ í•´ê²°í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Flicker Issue ì—ëŸ¬ í•´ê²°í•˜ê¸°</h2>\n<p>ë‹¤í¬ ëª¨ë“œ êµ¬í˜„ì— ëŒ€í•œ í‹€ì„ ì¡ì•˜ë‹¤ëŠ” ê¸°ì¨ë„ ì ì‹œ, í˜ì´ì§€ë¥¼ reload ì‹œ  ë¶„ëª… ì´ëŸ° ê¹œë¹¡ì„ í˜„ìƒì„ ê²ªì„ ê²ƒì…ë‹ˆë‹¤â€¦</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/58ff2ef6-95a9-4fea-b04d-3520fb34a879/image.gif\" alt=\"\"></p>\n<p>ëª»ë´¤ë‹¤êµ¬ìš”? ì €ë„ ê·¸ëƒ¥ ì ì‹œ ì¼ì‹œì ìœ¼ë¡œ ì•„ì£¼ ì ê¹ ì´ëŸ¬ëŠ”ê±° ì•„ë‹ê¹Œ..? ã…ã… í–ˆëŠ”ë° ì•„ë‹ˆë”ë¼êµ¬ìš” ğŸ˜£ ì•„ì£¼ ìœ ëª…í•œ <span style=\"color:red\"><strong>Flicker Issue</strong></span> ì˜€ìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>The problem is that the HTML is generated long before it reaches the userâ€™s device, so thereâ€™s no way to know which color theme the user prefers. <a href=\"https://www.joshwcomeau.com/css/css-variables-for-react-devs/#dark-mode-flash-fix\" target=\"_blank\" rel=\"nofollow\">ì°¸ê³ </a></p>\n</blockquote>\n<p>í•´ë‹¹ Issueê°€ ë°œìƒí•œ ì›ì¸ìœ¼ë¡œëŠ”, Gatsbyê°€ HTML íŒŒì¼ì„ ë¹Œë“œí•˜ëŠ” <code class=\"language-text\">Pre-Render</code> íŠ¹ì„±ê³¼ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤. ë¹„ë¡ localStorageë¡œ ì‚¬ìš©ìê°€ ì„¤ì •í•œ themeì„ ì €ì¥í•œë‹¤ê³  í•´ë„, <strong>reload ì‹œ localStorageë¥¼ ì°¸ì¡°í•˜ëŠ”ê±´ Pre-Render ì‹œì ì´ ì•„ë‹Œ ê·¸ ì´í›„ ì‹œì ì— ì°¸ì¡°</strong>í•˜ê¸° ë•Œë¬¸ì— ì´ëŸ° í˜„ìƒì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>ì¦‰ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ”, localStorageë¥¼ ì°¸ì¡°í•˜ëŠ” ì‹œì ì„ DOM íŠ¸ë¦¬ê°€ êµ¬ì¶•ë˜ê¸° ì´ì „ì— Script íŒŒì¼ì„ ê°•ì œë¡œ Injectioní•˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œ ì‘ì—…ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  Gatsbyì—ì„œëŠ” <strong><code class=\"language-text\">html.js</code> íŒŒì¼ì„ í†µí•´ Script íŒŒì¼ì„ inject í•  ìˆ˜ ìˆë„ë¡ customize</strong>ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>ğŸ’– <a href=\"https://www.gatsbyjs.com/docs/custom-html/\" target=\"_blank\" rel=\"nofollow\">Gatsby html.js customize</a> docsì— <code class=\"language-text\">html.js</code> íŒŒì¼ì„ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•´ ìì„¸í•œ ì„¤ëª…ì´ ìˆìœ¼ë¯€ë¡œ ê¼­ docsë¥¼ ì½ìœ¼ì‹œê³  ì§„í–‰í•˜ì‹œê¸¸!!</p>\n</blockquote>\n<p>ê·¸ëŸ¼ <code class=\"language-text\">html.js</code> íŒŒì¼ì´ ìƒì„±ëê³ , ì €ëŠ” ì•„ë˜ì™€ ê°™ì´ customizeë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// html.js</span>\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\r\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">'prop-types'</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HTML</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n      <span class=\"token operator\">&lt;</span>html <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>htmlAttributes<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>meta charSet<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>meta httpEquiv<span class=\"token operator\">=</span><span class=\"token string\">\"x-ua-compatible\"</span> content<span class=\"token operator\">=</span><span class=\"token string\">\"ie=edge\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>meta\r\n            name<span class=\"token operator\">=</span><span class=\"token string\">\"viewport\"</span>\r\n            content<span class=\"token operator\">=</span><span class=\"token string\">\"width=device-width, initial-scale=1, shrink-to-fit=no\"</span>\r\n          <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>headComponents<span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>body <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>bodyAttributes<span class=\"token punctuation\">}</span> className<span class=\"token operator\">=</span><span class=\"token string\">\"light\"</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>script\r\n            dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n              <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n\t\t\t// Customize í•  ë¶€ë¶„\r\n              (function () {\r\n                try {\r\n                  var mode = localStorage.getItem('color-theme');\r\n                  if (!mode) return;\r\n                  document.body.classList.add(mode);\r\n                } catch (e) {}\r\n              })();\r\n            </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>preBodyComponents<span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">&lt;</span>div\r\n            key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">body</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\r\n            id<span class=\"token operator\">=</span><span class=\"token string\">\"___gatsby\"</span>\r\n            dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>body <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>postBodyComponents<span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token constant\">HTML</span><span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">htmlAttributes</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">headComponents</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">bodyAttributes</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">preBodyComponents</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">postBodyComponents</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>DOM íŠ¸ë¦¬ê°€ êµ¬ì¶•ë˜ê¸° ì§ì „ì— localStorageë¥¼ ì°¸ì¡°í•˜ì—¬ ë¯¸ë¦¬ Themeì´ setting ë  ìˆ˜ ìˆë„ë¡ Scriptë¥¼ ì£¼ì…í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ í•´ë‹¹ Dark mode flicker issueë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/9818ade3-3dbd-4eca-a24f-0eaf7c0f70a1/image.gif\" alt=\"\"></p>\n<p>ì‹¤ì œ deployëœ element ì½”ë“œë¥¼ ë³´ë©´ script injectionì´ ì˜ ëìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/c6c1144e-5caa-490d-b842-7ee175488c7c/image.PNG\" alt=\"\"></p>\n<h2 id=\"-utteranceì—-ë‹¤í¬ëª¨ë“œ-ì ìš©í•˜ê¸°\" style=\"position:relative;\"><a href=\"#-utterance%EC%97%90-%EB%8B%A4%ED%81%AC%EB%AA%A8%EB%93%9C-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\" utteranceì— ë‹¤í¬ëª¨ë“œ ì ìš©í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ”® Utteranceì— ë‹¤í¬ëª¨ë“œ ì ìš©í•˜ê¸°</h2>\n<p>ì œ ê°œë°œ ë¸”ë¡œê·¸ì—ëŠ” ëŒ“ê¸€ ê¸°ëŠ¥ìœ¼ë¡œ <code class=\"language-text\">Utterance</code> ì˜¤í”ˆ ì†ŒìŠ¤ë¥¼ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ë•Œ UtteranceëŠ” ë‹¤ë¥¸ ìš”ì†Œë“¤ê³¼ëŠ” ë‹¬ë¦¬, <code class=\"language-text\">Div</code> elementë¥¼ ì§ì ‘ ìƒì„±í•˜ê³  ê·¸ë¦¬ê³  <code class=\"language-text\">attributes</code>ì— repo ë“±ë“± ì†ì„±ì„ ì§€ì •í•˜ê³  ê·¸ë¦¬ê³  ê·¸ ì§€ì •í•œ ê°’ì— ëŒ€í•´ì„œ DOM íŠ¸ë¦¬ì— appendChild í•˜ì—¬ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ë‹¤í¬ëª¨ë“œ êµ¬í˜„ì— ëŒ€í•´ CSS Variableë¡œ ì–´ë–»ê²Œ ì§€ì •í•´ì•¼ ë˜ëŠ”ì§€ êµ¬ìƒì´ ì˜ ë– ì˜¤ë¥´ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>\n<p>Utterance ìš”ì†ŒëŠ” <code class=\"language-text\">Div</code>ë¡œ ìƒì„±ë˜ì§€ ì•Šê³  <code class=\"language-text\">iframe</code>ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.\r\në”°ë¼ì„œ <code class=\"language-text\">iframe</code> íƒœê·¸ì— ì ‘ê·¼í•˜ì—¬ themeì„ ë°”ê¾¸ëŠ” ë¶€ë¶„ì„ <code class=\"language-text\">window.postMessage()</code>ë¡œ ì „ë‹¬í•˜ì—¬ ì ‘ê·¼í–ˆì–´ì•¼ í–ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p><code class=\"language-text\">window.postMessage()</code> ë©”ì†Œë“œëŠ” Window ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì—ì„œ ì•ˆì „í•˜ê²Œ cross-origin í†µì‹ ì„ í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì˜ˆì‹œë¡œ, í˜ì´ì§€ì™€ ìƒì„±ëœ íŒì—… ê°„ì˜ í†µì‹ ì´ë‚˜, í˜ì´ì§€ì™€ í˜ì´ì§€ ì•ˆì˜ iframe ê°„ì˜ í†µì‹ ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì¶œì²˜: <a href=\"https://developer.mozilla.org/ko/docs/Web/API/Window\" target=\"_blank\" rel=\"nofollow\">MDN</a>)</p>\n</blockquote>\n<p>ì œ í”„ë¡œì íŠ¸ì—ì„œ <strong>ë‹¤í¬ëª¨ë“œì˜ ì „í™˜ ìœ ë¬´ì˜ í¬ì¸íŠ¸ëŠ” bodyì˜ className</strong>ì…ë‹ˆë‹¤. lightëƒ darkëƒì— ë”°ë¼ì„œ DOM íŠ¸ë¦¬ê°€ êµ¬ì¶•ë ë•Œ, bodyì˜ classNameì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ë³€í™”í•  ìˆ˜ ìˆëŠ” ideaê°€ í•„ìš”í–ˆìŠµë‹ˆë‹¤. êµ¬ê¸€ë§ ê²°ê³¼, <code class=\"language-text\">MutationObserver</code> ë¼ëŠ” Constructorê°€ ì´ ê°œë…ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. <a href=\"https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/\" target=\"_blank\" rel=\"nofollow\">ì°¸ê³ </a></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> mutationObserver<span class=\"token operator\">:</span> MutationObserver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MutationObserver</span><span class=\"token punctuation\">(</span>\r\n      mutationsList <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        mutationsList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>mutation <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mutation<span class=\"token punctuation\">.</span>attributeName <span class=\"token operator\">===</span> <span class=\"token string\">'class'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.utterances-frame'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n              <span class=\"token keyword\">const</span> theme <span class=\"token operator\">=</span> mutation<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dark'</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token operator\">?</span> <span class=\"token string\">'photon-dark'</span>\r\n                <span class=\"token operator\">:</span> <span class=\"token string\">'github-light'</span>\r\n              <span class=\"token keyword\">const</span> message <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n                type<span class=\"token operator\">:</span> <span class=\"token string\">'set-theme'</span><span class=\"token punctuation\">,</span>\r\n                theme<span class=\"token operator\">:</span> theme<span class=\"token punctuation\">,</span>\r\n              <span class=\"token punctuation\">}</span>\r\n              <span class=\"token keyword\">const</span> iframe <span class=\"token operator\">=</span>\r\n                window<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.utterances-frame'</span><span class=\"token punctuation\">)</span>\r\n              iframe<span class=\"token punctuation\">.</span>contentWindow<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> src<span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">}</span>\r\n          <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span>\r\n    mutationObserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> attributes<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê°ì§€ëœ bodyì˜ classNameì— ë”°ë¼ ì‚¼í•­ì—°ì‚°ìë¡œ themeì„ í• ë‹¹ í›„, iframeì— postMessage()ë¡œ messageë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  <code class=\"language-text\">attributes</code>ì˜ ìƒíƒœê°’ì„ trueë¡œ ì§€ì •í•˜ì—¬, bodyì˜ classì˜ ë³€í™”ë¥¼ ê°ì§€í•  ìˆ˜ ìˆë„ë¡ ìˆ˜í–‰í•©ë‹ˆë‹¤.\r\në˜í•œ ì´ ì´ë²¤íŠ¸ë¥¼ mount ì‹œì ì— trigger ë  ìˆ˜ ìˆë„ë¡ <code class=\"language-text\">useEffect()</code> Hookë‚´ì— ì„ ì–¸í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” index(í™ˆ í™”ë©´)ì—ì„œ ë‹¤í¬ ëª¨ë“œë¡œ í† ê¸€ í›„, í¬ìŠ¤íŠ¸ë¥¼ í´ë¦­í•˜ì—¬ utterance themeì´ ë°”ë¡œ ì ìš©ë  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.</p>\n<h3 id=\"ê²°ê³¼ë¬¼\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC%EB%AC%BC\" aria-label=\"ê²°ê³¼ë¬¼ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ê³¼ë¬¼</h3>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/c7799ac4-2bbe-466e-95ca-d1c33a3a491e/image.gif\" alt=\"\"></p>\n<p>íœ´ .. ê°œì¸ì ìœ¼ë¡œ ì–´ë ¤ì› ë˜ ë¶€ë¶„ ì¤‘ í•˜ë‚˜ì˜€ëŠ”ë° ì˜ ì‘ë™í•´ì„œ ì–´ì°Œë‚˜ í–‰ë³µí•˜ë˜ì§€ğŸ’™</p>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>ì‚¬ì‹¤ ì´ ê¸€ì„ ì“°ë©´ì„œ ì—¥ ì´ê²ƒë°–ì— ì•ˆëœë‹¤ê³ ? ìƒê°ì´ ë“¤ ì •ë„ë¡œ, ë‹¤í¬ëª¨ë“œ êµ¬í˜„ì€ ê½¤ë‚˜ ë³µì¡í•˜ê³  ê·¸ë¦¬ê³  ê¼¼ê¼¼í•¨ì„ ê¸°ìš¸ì´ëŠ” ì‘ì—…ì´ì—ˆìŠµë‹ˆë‹¤. ì•„ë¬´ë˜ë„ ì‚¬ìš©ì ê²½í—˜ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ìš”ì†Œì´ê¸° ë•Œë¬¸ì— ë”ìš±ì´ ì‹ ê²½ì„ ì“¸ ìˆ˜ ë°–ì— ì—†ì—ˆë˜ ì‘ì—…ì´ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ì–´ë–¤ ê¸°ìˆ ì„ ì„ íƒí•´ì•¼ í• ì§€, ê·¸ë¦¬ê³  ì–´ë–¤ íƒœê·¸ì— ìƒ‰ìƒ ë³€í™”ê°€ í•„ìš”í•œì§€, ë˜í•œ ë Œë”ë§ ì´ìŠˆë„ handling í–ˆì–´ì•¼ í–ˆê³  ì •ë§.. ì˜¤ëœ ì‘ì—… ëì— ì–´ëŠì •ë„ êµ¬ìƒ‰ì„ ê°–ì¶˜ê²ƒ ê°™ìŠµë‹ˆë‹¤.. (4ì›”ë§ë¶€í„° ì‹œì‘í–ˆìœ¼ë‹ˆ..)</p>\n<p>ì €ë„ ì²˜ìŒìœ¼ë¡œ ì œëŒ€ë¡œ ê°ì¡ê³  ë§Œë“  ë‹¤í¬ëª¨ë“œë¼ ë¶€ì¡±í•œ ì ì´ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤ğŸ˜‚ í”¼ë“œë°±ì€ ì–¸ì œë‚˜ í™˜ì˜ì…ë‹ˆë‹¤!</p>\n<h3 id=\"ï¸-ì°¸ê³ \" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EC%B0%B8%EA%B3%A0\" aria-label=\"ï¸ ì°¸ê³  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ™‡ğŸ¼â€â™€ï¸ ì°¸ê³ </h3>\n<p><strong>-ë‹¤í¬ëª¨ë“œ CSS Variable ë° flicker Issue-</strong></p>\n<p><a href=\"https://blog.maximeheckel.com/posts/switching-off-the-lights-part-2-fixing-dark-mode-flashing-on-servered-rendered-website/\" target=\"_blank\" rel=\"nofollow\">https://blog.maximeheckel.com/posts/switching-off-the-lights-part-2-fixing-dark-mode-flashing-on-servered-rendered-website/</a></p>\n<p><a href=\"https://blog.rhostem.com/posts/2020-06-25-dark-mode-for-gatsby-website\" target=\"_blank\" rel=\"nofollow\">https://blog.rhostem.com/posts/2020-06-25-dark-mode-for-gatsby-website</a></p>\n<p><a href=\"https://github.com/gaearon/overreacted.io/blob/master/src/html.js\" target=\"_blank\" rel=\"nofollow\">https://github.com/gaearon/overreacted.io/blob/master/src/html.js</a></p>\n<p><strong>-Utterance dark mode-</strong></p>\n<p><a href=\"https://www.sungikchoi.com/blog/gatsby-dark-mode/\" target=\"_blank\" rel=\"nofollow\">https://www.sungikchoi.com/blog/gatsby-dark-mode/</a></p>\n<p><strong>-MutationObserver-</strong></p>\n<p><a href=\"https://mong-blog.tistory.com/entry/JS-DOM%EC%9D%84-%EA%B0%90%EC%8B%9C%ED%95%98%EB%8A%94-MutationObserver\" target=\"_blank\" rel=\"nofollow\">https://mong-blog.tistory.com/entry/JS-DOM%EC%9D%84-%EA%B0%90%EC%8B%9C%ED%95%98%EB%8A%94-MutationObserver</a></p>\n<p><a href=\"https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/\" target=\"_blank\" rel=\"nofollow\">https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/</a></p>\n<p><a href=\"https://developer.chrome.com/blog/detect-dom-changes-with-mutation-observers/\" target=\"_blank\" rel=\"nofollow\">https://developer.chrome.com/blog/detect-dom-changes-with-mutation-observers/</a></p>\n<p><a href=\"https://stackoverflow.com/questions/31659567/performance-of-mutationobserver-to-detect-nodes-in-entire-dom\" target=\"_blank\" rel=\"nofollow\">https://stackoverflow.com/questions/31659567/performance-of-mutationobserver-to-detect-nodes-in-entire-dom</a></p>","headings":[{"depth":2,"value":"ë™ê¸°"},{"depth":2,"value":"Themeì„ ì–´ë–»ê²Œ ì „ë‹¬í•  ê²ƒì¸ê°€ : ThemeProvider VS CSS Variable"},{"depth":3,"value":"ğŸ¤” emotionì˜ ThemeProviderë¡œ ì‚½ì§ˆ"},{"depth":3,"value":"ğŸ¥° CSS Variableë¡œ ê´‘ëª…ì„ ì°¾ë‹¤"},{"depth":2,"value":"Flicker Issue ì—ëŸ¬ í•´ê²°í•˜ê¸°"},{"depth":2,"value":"ğŸ”® Utteranceì— ë‹¤í¬ëª¨ë“œ ì ìš©í•˜ê¸°"},{"depth":3,"value":"ê²°ê³¼ë¬¼"},{"depth":2,"value":"ë§ˆë¬´ë¦¬"},{"depth":3,"value":"ğŸ™‡ğŸ¼â€â™€ï¸ ì°¸ê³ "}],"frontmatter":{"title":"Gatsby ë¸”ë¡œê·¸ - ë‹¤í¬ëª¨ë“œ êµ¬í˜„ê¸°ğŸŒ—","summary":"ì–´ë¦¬ë°”ë¦¬ ì‘ì•  FE ê°œë°œìì˜ ë‹¤í¬ëª¨ë“œ êµ¬í˜„ ì‚½ì§ˆê¸° - ì–´ë””ì„œë¶€í„° ì–´ë–»ê²Œ í•´ì•¼ë ì§€ ê°ì„ ëª»ì¡ê² ë‹¤ë©´ğŸ¥´","date":"2023.05.24.","categories":["Web","Gatsby"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUEBgcJ/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgT/2gAMAwEAAhADEAAAAevkXeWNDrY/Jx//xAAdEAACAgEFAAAAAAAAAAAAAAACBAEFBgADBxMX/9oACAEBAAEFAh5ATnKPUsR6aq3r7tSFFRZ0ABtx/8QAGxEAAgIDAQAAAAAAAAAAAAAAAQIREhBBUWH/2gAIAQMBAT8Bcoa0UpCgNLWltt5PMf/EAB0RAAICAgMBAAAAAAAAAAAAAAEDAhEEEgAUISL/2gAIAQIBAT8ByJ48yvrpkgRTCLBJhZu4Xu0EgaiXnwPBViroc//EACUQAAMBAAEDAgcBAAAAAAAAAAECAwQRBRITFCEABhAkMTI0Qv/aAAgBAQAGPwLT8tP0vqa+njsqOoiLUjU4J6aaESKIaNx6Swn4zWlGfL2y+4HZWj6di0zwve8Bg0aDNY28IX1eQaOmVOh/5XhurG36rXvIUjd0y50ZDSshUw0QBpFvHZQumUXPioGlQheFslJE+SdFV9i5s666IJ01CMxpeY44m9wvkZBwOFLFRwPb2+nbNFRe534RQo76OaUbgf6ejM7n8s7FjySfj//EABkQAQEBAQEBAAAAAAAAAAAAAAERACEQQf/aAAgBAQABPyEjLEp4QJKiIJgcahYFuOLisO8zbbmtGtSJvbXOKdedB8/cQjxSjIZ1SIMXanWf/9oADAMBAAIAAwAAABAgD//EABcRAQEBAQAAAAAAAAAAAAAAAAERIQD/2gAIAQMBAT8QfjBiI7JQjGMJSWHf/8QAGBEBAAMBAAAAAAAAAAAAAAAAARARITH/2gAIAQIBAT8QZ3Jzl6iWmkgMf//EABgQAQEAAwAAAAAAAAAAAAAAAAEAEDGB/9oACAEBAAE/EFOLxCvRNqYKNnjKSiOytuICJmn100DgI1PLXTpXSj4MZMA/AHvsNU2l/9k="},"images":{"fallback":{"src":"/static/0e6a2859511bc04abeba878c5508a73f/f77da/gatsby.webp","srcSet":"/static/0e6a2859511bc04abeba878c5508a73f/dd2c8/gatsby.webp 375w,\n/static/0e6a2859511bc04abeba878c5508a73f/c5e11/gatsby.webp 750w,\n/static/0e6a2859511bc04abeba878c5508a73f/f77da/gatsby.webp 1500w","sizes":"(min-width: 1500px) 1500px, 100vw"},"sources":[]},"width":1500,"height":1000}},"publicURL":"/static/0e6a2859511bc04abeba878c5508a73f/gatsby.jpg"}}}}]}},"pageContext":{"slug":"/posts/Gatsby-ë‹¤í¬ëª¨ë“œ-êµ¬í˜„ê¸°/","prev":{"node":{"fields":{"slug":"/posts/Gatsby-Trouble-Shooting/"},"headings":[{"depth":2,"value":"#418 #423 Minified Error"},{"depth":3,"value":"í•´ê²°"},{"depth":2,"value":"SVG Icon Flicker Issue"},{"depth":3,"value":"useEffectì™€ useLayoutEffect ì ì ˆíˆ ì‚¬ìš©í•˜ê¸°"},{"depth":4,"value":"useEffect"},{"depth":4,"value":"useLayoutEffect"},{"depth":3,"value":"gatsby-plugin-offline í™œìš©í•˜ê¸°"},{"depth":3,"value":"ê²°ê³¼ë¬¼"},{"depth":2,"value":"Ongoing.."},{"depth":3,"value":"+) 23.05.29 LightHouse ì ìˆ˜ ğŸ’¯"},{"depth":3,"value":"ğŸ™‡ğŸ¼â€â™€ï¸ì°¸ê³ "}]}},"next":{"node":{"fields":{"slug":"/posts/Gatsby-TOC-êµ¬í˜„í•˜ê¸°/"},"headings":[{"depth":2,"value":"ğŸ’­ ë™ê¸°"},{"depth":2,"value":"ê²°ê³¼"},{"depth":2,"value":"headerë¥¼ ì–´ë–»ê²Œ ê°–ê³  ì˜¬ê²ƒì¸ê°€?"},{"depth":2,"value":"Valueë¥¼ ì–´ë–»ê²Œ slugí™” í• ê²ƒì¸ê°€?"},{"depth":2,"value":"Data íë¦„ì€?"},{"depth":2,"value":"TOC ì»´í¬ë„ŒíŠ¸ Styling"},{"depth":2,"value":"Scrollì‹œ ê° headerì— ë§ê²Œ Active ê¸°ëŠ¥ ë¶€ì—¬í•˜ê¸°"},{"depth":2,"value":"headerì— ë§ëŠ” hrefë¡œ ì´ë™í•˜ê¸°"},{"depth":3,"value":"ğŸª“ Issue Handle"},{"depth":2,"value":"ğŸ”® í›„ê¸°"}]}}}},"staticQueryHashes":["1463137677"],"slicesMap":{}}