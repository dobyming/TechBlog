{"componentChunkName":"component---src-templates-post-template-tsx","path":"/js-sync-async/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>동기와 비동기 (Synchronus , Asynchronus)</h2>\n<p>이번 포스팅에선 자바스크립트의 2가지 동작 방식인 동기와 비동기처리에 대해서 다뤄\r\n보겠습니다.</p>\n<p>함수 3개를 호출했을때를 예로 들어보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">taskA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Task A'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">taskB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Task B'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">taskC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Task C'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">//함수 호출 </span>\r\n<span class=\"token function\">taskA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token function\">taskB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token function\">taskC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>함수 3개를 호출 시, 자바스크립트는 다음과 같이 작업을 할당합니다. 순서대로 함수를 호출하며 한개의 task가 끝날때까지 다음 task는 끼어들 수 없는 블로킹 방식으로 동기가 이루어집니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/a5298539-fe91-4a59-bd30-0f69822ad327/image.PNG\" alt=\"\"></p>\n<h2>동기 처리의 문제점</h2>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/fb33ffa5-fbc4-42e0-8d4a-966a84597e2c/image.PNG\" alt=\"\"></p>\n<p>🤔 작업 시간이 긴 task를 처리할때 문제가 발생하게 된다.프론트는 속도가 생명이지 않나…?</p>\n<p><strong>멀티 스레드</strong>로 방식으로 처리하면 되지 않나요?\r\n⇒ OS 상 생각은 ok. 하지만 자바스크립트는 <strong>Single Thread</strong>로 동작합니다.</p>\n<p>그래서 동기처리 대신 <strong>비동기 처리</strong> 개념이 필요해지게 됩니다.</p>\n<h2>비동기 처리</h2>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/57548644-48a6-4b56-8277-cb53ddac1f69/image.PNG\" alt=\"\"></p>\n<p>🤔 논 블로킹 방식이면 작업이 어떻게 끝나고 처리되는지.. 중구난방 아닐까요?\r\n→ <strong>콜백 함수</strong>를 활용합니다.</p>\n<p>대표적인 콜백 함수는 <code class=\"language-text\">setTimeout()</code> 으로, 코드를 바로 실행하지 않고 몇초 기다렸다가 다음 함수를 실행하는 방식으로 순서가 중구난방일지 염려되는 부분을 해결할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">taskA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A Task End'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 다음 함수 실행까지 2초 기다려줌 </span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">taskA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'코드 끝'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>실행 결과</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/bd013054-c63e-45d6-aea2-2a94361d7326/image.gif\" alt=\"\"></p>\n<h2>JS Engine</h2>\n<p>JS Engine 기본 구성\r\n<br/>\r\n-Heap : 메모리 할당<br/>\r\n-<strong>Call Stack</strong> : 코드 실행</p>\n<h3>Call Stack 동기 작동방식</h3>\n<p>항상 Main context가 먼저 stack에 push 됌. 그리고 선언한 함수 순서대로 Call Stack에 push되고, 작업이 끝나면 pop이 이루어짐.</p>\n<h3>비동기 작동 방식</h3>\n<p>여기서 <code class=\"language-text\">setTimeout()</code> 은 대표적인 <strong>비동기 함수</strong>인데, 만약 동기처리 방식 그대로 적용한다면 call stack에 3초 머물렀다가 콜백함수 <code class=\"language-text\">cb</code>를 호출하게 되는데 이와 같이 수행한다면 동기 처리 방식과 비동기 처리 방식의 차이점이 사라지게 됩니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/359c37e2-d6df-4195-af7d-3cf8d7011385/image.PNG\" alt=\"\"></p>\n<p>따라서 해당 비동기 함수는 비동기 처리를 위해, Web APIs에 3초동안 기다리면서 <code class=\"language-text\">asyncAdd()</code> 함수가 실행되면서 pop되면서 종료되고</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/18c5b0e0-04d0-4a46-8beb-b5106cdac240/image.PNG\" alt=\"\"></p>\n<p>3초 기다린 <code class=\"language-text\">setTimeout()</code>은 제거가 되면서 콜백함수 <code class=\"language-text\">cb</code>를 콜백 큐에 push합니다.</p>\n<p><img src=\"https://velog.velcdn.com/images/damin1025/post/81ed6192-8b10-4789-ace7-ec3b9fc7b30e/image.PNG\" alt=\"\"></p>\n<p>Event Loop을 통해 cb함수는 call stack로 push됩니다.</p>\n<p>이때 Event Loop는 Main Context를 제외한 다른 실행할 함수들이 Call stack에 존재하는지 계속해서 check합니다. 만약 수행할 함수가 콜백함수밖에 없다면, 그제서야 콜백함수를 Call Stack에 push하는 방식인거죠.</p>\n<p>그렇게 콜백함수를 수행하고 pop 후, Main Context도 제거되면서 비동기 작업이 완료가 됩니다.</p>\n<h3>비동기 처리 방식의 문제점</h3>\n<p>⇒ 만약 불러야 할 콜백함수를 메소드 내에서 계속 선언하게 된다면 <strong>콜백지옥</strong>을 야기합니다. 이는 이제 ES6+ 문법 중 <code class=\"language-text\">Promise</code> 객체 와 <code class=\"language-text\">async()-await()</code> 로 해결할 수 있습니다.</p>","frontmatter":{"title":"JavaScript - 동기와 비동기 처리","summary":"이번 포스팅에선 자바스크립트의 2가지 동작 방식인 동기와 비동기처리에 대해서 다뤄보겠습니다.","date":"2023.01.20.","categories":["JavaScript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYklEQVR42mP4fl+ObMQwjDV/u4edTVjzz4fy/57J/3wo9+2u3J/Hcv9fyv96BDWCgZBOuTdXZc/vlnx3Tfb/C/n7p6R3rRB/flHmz1P5b/fwav5yV+7/K/kti8SYmRnP75Y8vEFCSICJmZlBXJT53C7Jf8/kCWpW2LRQjIGB4eJeyaRIHhkp5tvHpCe3CN0/Jf37sRyxmi/tleytF2RgYMhN5n14Vub/a/lvd/Fq/nYPpHnDfJDmIxsl/r+Sr8jhZ2NjZGVhXDZN5P8L3M7++VAOFEhvFXauFWdgYDi6SeLlJZn39+X+PJc3M2DT02L79RCbzd8gmh/IOVhxuDlw+rlzcnIw3jshbWfOoa7M0lMnKCnO7GbP+e8pDpu/3ZP7/Vh++TQRY102HXW2+RNE/r9SOLhewtOJU0GWJcCD69ohqb9P8Yb2/1fyvx6Dkse/F/Lf78n9fSH/74UCmKHwGxzPAGOiDkdk0wLIAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/72cbf5a18fefc590eeb1cc3dec648985/b3556/jsicon.png","srcSet":"/static/72cbf5a18fefc590eeb1cc3dec648985/2bbe4/jsicon.png 120w,\n/static/72cbf5a18fefc590eeb1cc3dec648985/dddb8/jsicon.png 240w,\n/static/72cbf5a18fefc590eeb1cc3dec648985/b3556/jsicon.png 480w","sizes":"(min-width: 480px) 480px, 100vw"},"sources":[{"srcSet":"/static/72cbf5a18fefc590eeb1cc3dec648985/f9f5f/jsicon.webp 120w,\n/static/72cbf5a18fefc590eeb1cc3dec648985/4b558/jsicon.webp 240w,\n/static/72cbf5a18fefc590eeb1cc3dec648985/b8574/jsicon.webp 480w","type":"image/webp","sizes":"(min-width: 480px) 480px, 100vw"}]},"width":480,"height":360}},"publicURL":"/static/72cbf5a18fefc590eeb1cc3dec648985/jsicon.png"}}}}]}},"pageContext":{"slug":"/js-sync-async/"}},"staticQueryHashes":[],"slicesMap":{}}